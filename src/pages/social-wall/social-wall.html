<ion-header>
  <ion-navbar color="primary">
    <ion-title>Social Wall</ion-title>
  </ion-navbar>

</ion-header>


<ion-content fullscreen>

  <ion-refresher (ionRefresh)="doRefresh($event)">
  <ion-refresher-content pullingIcon="arrow-dropdown" pullingText="Pull to refresh" refreshingSpinner="bubbles" refreshingText="Refreshing...">
  </ion-refresher-content>
</ion-refresher>

      <ion-card *ngFor="let item of posts; let i = index">

        <ion-item>
          <ion-avatar item-left>
            <div *ngIf="item.meta?.value"><img src="{{item.meta.value}}"  /></div>
            <div *ngIf="!item.meta?.value"><img src="assets/img/placeholder.png"/></div>
          </ion-avatar>
          <h2>{{item.user_id}}</h2>
          <h4 item-right>
              {{item.created_at}}
            </h4>
        </ion-item>


        <div *ngIf="item.meta?.value">,<img style="height: auto; max-height:300px;" src="{{item.meta.value}}"  /></div>
        <div *ngIf="!item.meta?.value">,<img  style="height: auto; max-height:300px;" src="assets/img/placeholder.png"/></div>

        <ion-card-content (click)="openDetails(item)">
          {{item?.post}}
        </ion-card-content>

        <ion-row center>
          <ion-col col-5 text-center>
            <button ion-button  clear small>
                       <button ion-button icon-only clear (click)="favoritePost(item?.id)"><ion-icon name="heart"></ion-icon></button>
                       </button>
          </ion-col>
          <ion-col col-2>
          </ion-col>
          <ion-col col-5 text-center>
              <button ion-button clear small >
                    <ion-icon name="share"></ion-icon>
                       </button>
            </ion-col>
          <ion-col center text-center>
          </ion-col>
        </ion-row>

      </ion-card>


      <ion-fab bottom right #fab (click)="addNewPost()">
          <button ion-fab><ion-icon name="add"></ion-icon></button>
        </ion-fab>


    </ion-content>
